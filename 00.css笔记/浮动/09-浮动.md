## 浮动(float)

### 目标

* **记忆**
  * 能够说出 CSS 的布局的三种机制
* **理解**
  * 能够说出普通流在布局中的特点
  * 能够说出浮动在布局中的作用
  * 能够说出在实际布局中浮动的应用方法
  * 能够说出决定浮动元素大小的因素
* **应用**
  * 能够实现图文环绕效果
  * 能够实现浮动案例

### 1. CSS 布局的三种机制

> 网页布局的核心——就是**用 CSS 来摆放盒子位置**。

CSS 提供了 **3 种机制**来设置盒子的摆放位置，分别是**普通流**、**浮动**和**定位**，其中： 

1. **普通流**（标准流）
   * 一个网页内的标签元素按照**从上到下，从左到右**的顺序排列
     * **块级元素**会独占一行，**从上向下**顺序排列。
     * **行内元素**会按照顺序，**从左到右**顺序排列。




### 2. 认识浮动(float)

**概念**：元素的浮动是指**设置了浮动属性的元素**会**脱离标准普通流的控制**，移动到其父元素中指定位置的过程。

> 浮动——漂，**漂浮在普通流的上面，不占位置，只有左右浮动。**  脱标---脱离标准流

#### 2.1 作用

1. 浮动最早是用来**控制图片**，实现**文字环绕图片的效果**。

2. **让多个盒子(div)水平排列成一行**，使得浮动成为布局的重要手段。
   <img src="media/03_水平排列div.png" >


#### 2.2 语法

在 CSS 中，通过 `float` 属性定义浮动，语法如下：

```css
选择器 { float: 属性值; }
```

| 属性值       | 描述             |
| --------- | -------------- |
| **none**  | 元素不浮动（**默认值**） |
| **left**  | 元素向**左**浮动     |
| **right** | 元素向**右**浮动     |

> **注意**：
>
> * 浮动只有左右，没有居中！
> * 我们浮动的元素 只能一行显示（除非装不开盒子，才会下来）
> * 浮动的元素 不占位置
> * 浮动的元素是脱标 脱离标准流  不是标准流 

#### 2.3 案例体验

##### 案例 1 —— 文字环绕效果

```css
div {
    width: 500px;
    height: 500px;
    border: 1px solid hotpink;
    /* 让盒子居中显示 */
    margin: auto;
}

img {
    /* 让图片浮动在盒子的右侧，div 中的文字环绕在图片周围 */
    float: right;
}
```

**小结**：

* `float` 属性需要设置给 `img` 标签 —— 图片浮动；
* `float` 属性没有居中，如果要居中可以使用 `margin: auto;`，但是 `margin: auto;` 不会浮起来。

##### 案例2——浮动不占位置

```css
.box1 {
    width: 200px;
    height: 200px;
    background-color: rgba(255, 0, 0, 0.5);
    /* 让第 1 个盒子漂浮起来，不占位置 */
    float: left;
}

.box2 {
    width: 150px;
    height: 300px;
    background-color: skyblue;
}
```

**小结**：

* `float` 属性会让盒子**漂浮在普通流的上面，不占位置**。

##### 案例 3——div 水平排列

```css
div {
    width: 200px;
    height: 200px;
    background-color: pink;
    /* 转换为行内块元素，可以水平显示，不过 div 之间有间隙，不方便处理 */
    /* display: inline-block; */
    /* 设置浮动属性，可以让 div 水平排列，并且没有间隙 */
    float: left;
}

div:nth-child(even) {
    background-color: hotpink;
}
```

**小结**：

* 设置浮动属性 `float: left;`，可以让 div 水平排列，并且没有间隙；
* 转换为行内块元素 `display: inline-block;`，可以水平显示，不过 div 之间有间隙，不方便处理。

**注意**：案例中 `float` 属性是设置给所有 div 的。

### 3. 浮动(float)的应用（重要）

#### 3.1 在实际布局中浮动的应用方法

1. 用**普通流的大盒子**（父级）定义上下顺序——占住位置；
2. 使用浮动**在大盒子内部设置小盒子的位置**——水平排列。

#### 3.2 浮动应用案例
 <img src="media/04_浮动属性应用示意图.png" >



##### 步骤 1：用普通流定义大盒子

```css
#top {
    width: 960px;
    height: 400px;
    background-color: pink;
    margin: auto;
}

#bottom {
    width: 960px;
    height: 200px;
    background-color: hotpink;
    margin: auto;
}
```

##### 步骤 2：顶部 2 个 div

```css
#top div {
    height: 100%;
    float: left;
}

#top div:first-child {
    width: 200px;
    background-color: skyblue;
}

#top div:last-child {
    width: 760px;
    background-color: purple;
}
```

**注意**：一个父盒子里面的子盒子，如果**其中一个子盒子浮动，则其他子盒子都需要浮动**，才能在一行显示。

##### 步骤 3：底部 4 个 div

```css
#bottom div {
    /* 所有子级 div 的宽度 */
    width: 245px;
    height: 100%;
    background-color: green;
    float: left;
}

#bottom div:first-child {
    /* 指定第 1 个 div 的宽度 */
    width: 200px;
}

#bottom div:nth-child(n+2) {
    /* 指定其他 div 的左侧间距
        注意：如果 (间距 + div 宽度) > 父 div 宽度，会在下一行显示 */
    margin-left: 8px;
}

#bottom div:nth-child(even) {
    background-color: gold;
}
```

**注意**：在使用 `float` 布局时，如果**继续向右无法摆放新的子盒子，会在下一行继续显示**。

### 4. 浮动(float)的扩展

#### 4.1 与父盒子的关系

* 子盒子的浮动参照父盒子对齐
* 不会与父盒子的边框重叠，也不会超过父盒子的内边距

 <img src="media/05_父子盒子关系示意图.png" >



#### 4.2 与兄弟盒子的关系

在一个父级盒子中，如果**前一个兄弟盒子**是：

* **浮动**的，那么**当前盒子**会与前一个盒子的顶部对齐；
* **普通流**的，那么**当前盒子**会显示在前一个兄弟盒子的下方。 
* 浮动只会影响当前的或者是后面的盒子，不会影响前面的标准流的块元素。

#### 4.3 行内块元素特性（重要）

元素添加浮动后，会具有**行内块元素**的特性——元素的大小取决于：

* 定义的大小（优先级高）
* 元素内部的内容

```css
.box1 {
    width: 200px;
    height: 200px;
    background-color: purple;
    /* 元素添加浮动后，元素大小取决于定义的大小 —— 具有行内块元素特性 */
    float: left;
}

.box2 {
    background-color: skyblue;
    /* 元素添加浮动后，元素大小取决于内部内容的多少 —— 具有行内块元素特性 */
    float: left;
}
```



### 5. 浮动(float)小结

> 浮动的目的——让多个盒子在同一行显示。

**float** —— **浮漏特**

|  特点  | 说明                                       |
| :--: | ---------------------------------------- |
|  浮   | 加了浮动的盒子**是浮起来**的，漂浮在其他标准流盒子的上面。          |
|  漏   | 加了浮动的盒子**是不占位置的**，它原来的位置**漏给了标准流的盒子**。   |
|  特   | **特别注意**：1. 浮动的盒子需要和标准流的父级搭配使用；2. 浮动可以使元素具有行内块特性。 |



